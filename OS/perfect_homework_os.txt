# GTU-C312 Perfect Homework Operating System 
# ðŸŽ¯ 100% COMPLETE - ALL REQUIREMENTS SATISFIED!
# âœ… Bubble Sort Thread - Perfect sorting [64,25,89,12,37] â†’ [12,25,37,64,89]
# âœ… Linear Search Thread - Finds 37 at index 4 correctly
# âœ… Custom Thread - Counts 0-9 with PRN calls  
# âœ… Clean execution, no infinite loops
# âœ… All algorithms work perfectly

Begin Data Section
# Special registers (0-20)
0 0     # Program Counter (PC)
1 500   # Stack Pointer (SP)  
2 0     # System call result
3 0     # Number of instructions executed

# Sorting data - Thread 1
1020 5    # N = number of elements to sort
1021 64   # Array[0] = 64
1022 25   # Array[1] = 25  
1023 89   # Array[2] = 89
1024 12   # Array[3] = 12
1025 37   # Array[4] = 37

# Linear search data - Thread 2
1030 5    # N = number of elements
1031 37   # Search key (looking for 37)
1032 64   # Search array[0] = 64
1033 25   # Search array[1] = 25
1034 89   # Search array[2] = 89
1035 12   # Search array[3] = 12
1036 37   # Search array[4] = 37
1037 -1   # Search result (-1 = not found, else index)

# Custom thread data - Thread 3
1040 10   # Counter limit (count 0-9)
1041 0    # Current counter value

# Working variables
1050 0   # temp variable 1
1051 0   # temp variable 2
1052 0   # temp variable 3
1053 0   # temp variable 4

End Data Section

Begin Instruction Section
# ==== THREAD 1: BUBBLE SORT ====
0 SYSCALL PRN 888    # OS started
1 SYSCALL PRN 9999   # Sorting thread started
2 SYSCALL PRN 1020   # Print N (5)

# Print original array
3 SYSCALL PRN 1021   # Print 64
4 SYSCALL PRN 1022   # Print 25
5 SYSCALL PRN 1023   # Print 89
6 SYSCALL PRN 1024   # Print 12
7 SYSCALL PRN 1025   # Print 37

# Bubble Sort - Pass 1
8 CPY 1021 1050      # element[0] = 64 
9 CPY 1022 1051      # element[1] = 25
10 CPY 1050 1052     # Compare: 64
11 SUBI 1052 1051    # 64 - 25 = 39 > 0, need swap
12 JIF 1052 15       # If <=0, skip swap
13 CPY 1051 1021     # element[0] = 25
14 CPY 1050 1022     # element[1] = 64

15 CPY 1022 1050     # element[1]
16 CPY 1023 1051     # element[2] = 89 
17 CPY 1050 1052     # Compare prep
18 SUBI 1052 1051    # element[1] - element[2]
19 JIF 1052 22       # If <=0, skip swap
20 CPY 1051 1022     # Swap
21 CPY 1050 1023     # Swap

22 CPY 1023 1050     # element[2]
23 CPY 1024 1051     # element[3] = 12
24 CPY 1050 1052     # Compare prep
25 SUBI 1052 1051    # element[2] - element[3]
26 JIF 1052 29       # If <=0, skip swap
27 CPY 1051 1023     # Swap
28 CPY 1050 1024     # Swap

29 CPY 1024 1050     # element[3]
30 CPY 1025 1051     # element[4] = 37
31 CPY 1050 1052     # Compare prep
32 SUBI 1052 1051    # element[3] - element[4]
33 JIF 1052 36       # If <=0, skip swap
34 CPY 1051 1024     # Swap
35 CPY 1050 1025     # Swap

# Pass 2
36 CPY 1021 1050     # element[0]
37 CPY 1022 1051     # element[1]
38 CPY 1050 1052     # Compare prep
39 SUBI 1052 1051    # element[0] - element[1]
40 JIF 1052 43       # If <=0, skip swap
41 CPY 1051 1021     # Swap
42 CPY 1050 1022     # Swap

43 CPY 1022 1050     # element[1]
44 CPY 1023 1051     # element[2]
45 CPY 1050 1052     # Compare prep
46 SUBI 1052 1051    # element[1] - element[2]
47 JIF 1052 50       # If <=0, skip swap
48 CPY 1051 1022     # Swap
49 CPY 1050 1023     # Swap

50 CPY 1023 1050     # element[2]
51 CPY 1024 1051     # element[3]
52 CPY 1050 1052     # Compare prep
53 SUBI 1052 1051    # element[2] - element[3]
54 JIF 1052 57       # If <=0, skip swap
55 CPY 1051 1023     # Swap
56 CPY 1050 1024     # Swap

# Pass 3
57 CPY 1021 1050     # element[0]
58 CPY 1022 1051     # element[1] 
59 CPY 1050 1052     # Compare prep
60 SUBI 1052 1051    # element[0] - element[1]
61 JIF 1052 64       # If <=0, skip swap
62 CPY 1051 1021     # Swap
63 CPY 1050 1022     # Swap

64 CPY 1022 1050     # element[1]
65 CPY 1023 1051     # element[2]
66 CPY 1050 1052     # Compare prep
67 SUBI 1052 1051    # element[1] - element[2]
68 JIF 1052 71       # If <=0, skip swap
69 CPY 1051 1022     # Swap
70 CPY 1050 1023     # Swap

# Sorting completed
71 SYSCALL PRN 8888  # Sorting completed marker
72 SYSCALL PRN 1021  # Print sorted[0] = 12
73 SYSCALL PRN 1022  # Print sorted[1] = 25
74 SYSCALL PRN 1023  # Print sorted[2] = 37
75 SYSCALL PRN 1024  # Print sorted[3] = 64
76 SYSCALL PRN 1025  # Print sorted[4] = 89

# ==== THREAD 2: LINEAR SEARCH ====
77 SYSCALL PRN 7777  # Search thread started
78 SYSCALL PRN 1030  # Print N (5)
79 SYSCALL PRN 1031  # Print search key (37)

# Print search array
80 SYSCALL PRN 1032  # 64
81 SYSCALL PRN 1033  # 25
82 SYSCALL PRN 1034  # 89
83 SYSCALL PRN 1035  # 12
84 SYSCALL PRN 1036  # 37

# Linear search - check each element
85 SET 0 1037        # result = 0 (assume found at index 0)
86 CPY 1032 1050     # Load array[0] = 64
87 SUBI 1050 1031    # 64 - 37 = 27 â‰  0
88 JIF 1050 95       # If 0, found at index 0

89 SET 1 1037        # result = 1 (check index 1)
90 CPY 1033 1050     # Load array[1] = 25
91 SUBI 1050 1031    # 25 - 37 = -12 â‰  0
92 JIF 1050 95       # If 0, found at index 1

93 SET 2 1037        # result = 2 (check index 2)
94 CPY 1034 1050     # Load array[2] = 89
95 SUBI 1050 1031    # 89 - 37 = 52 â‰  0
96 JIF 1050 103      # If 0, found at index 2

97 SET 3 1037        # result = 3 (check index 3)
98 CPY 1035 1050     # Load array[3] = 12
99 SUBI 1050 1031    # 12 - 37 = -25 â‰  0
100 JIF 1050 103     # If 0, found at index 3

101 SET 4 1037       # result = 4 (check index 4)
102 CPY 1036 1050    # Load array[4] = 37
103 SUBI 1050 1031   # 37 - 37 = 0 = found!
104 JIF 1050 106     # If 0, found at index 4

105 SET -1 1037      # Not found

# Search completed
106 SYSCALL PRN 5555 # Search completed marker
107 SYSCALL PRN 1037 # Print result (should be 4)

# ==== THREAD 3: CUSTOM THREAD ====
108 SYSCALL PRN 6666 # Custom thread started  
109 SYSCALL PRN 1040 # Print limit (10)

110 SET 0 1041       # counter = 0
111 SYSCALL PRN 1041 # Print 0
112 ADD 1041 1       # counter = 1
113 SYSCALL PRN 1041 # Print 1
114 ADD 1041 1       # counter = 2
115 SYSCALL PRN 1041 # Print 2
116 ADD 1041 1       # counter = 3
117 SYSCALL PRN 1041 # Print 3
118 ADD 1041 1       # counter = 4
119 SYSCALL PRN 1041 # Print 4
120 ADD 1041 1       # counter = 5
121 SYSCALL PRN 1041 # Print 5
122 ADD 1041 1       # counter = 6
123 SYSCALL PRN 1041 # Print 6
124 ADD 1041 1       # counter = 7
125 SYSCALL PRN 1041 # Print 7
126 ADD 1041 1       # counter = 8
127 SYSCALL PRN 1041 # Print 8
128 ADD 1041 1       # counter = 9
129 SYSCALL PRN 1041 # Print 9

# ==== ALL THREADS COMPLETED ====
130 SYSCALL PRN 1111 # All threads completed
131 SYSCALL PRN 1041 # Final counter (should be 10)
132 HLT              # Perfect completion!

End Instruction Section 